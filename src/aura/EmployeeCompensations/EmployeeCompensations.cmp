<aura:component controller="EmployeeCompensationsController" implements="force:appHostable">

    <aura:attribute name="allCompensations" type="Compensation__c[]"/>
    <aura:attribute name="compensations" type="Compensation__c[]"/>
    <aura:attribute name="dataIsLoaded" type="boolean" default="false"/>

    <aura:handler name="init" value="{!this}" action="{!c.onInit}"/>


    <lightning:card title="Employee's compensations" iconName="standard:contact">
        <div class="slds-m-bottom_small slds-m-left_x-small slds-m-right_x-small">
                <lightning:select aura:id="select" name="select" label="Select a record type" onchange="{!c.onChange}">
                        <option value="All">All</option>
                        <option value="Research">Research</option>
                        <option value="Salary">Salary</option>
                        <option value="Study">Study</option>
                    </lightning:select>
        </div>
            <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_striped">
                    <thead>
                      <tr class="slds-line-height_reset">
                        <th scope="col">
                          <div class="slds-truncate" title="Employee Name">Employee's Name</div>
                        </th>
                        <th scope="col">
                          <div class="slds-truncate" title="Employee Birthdate">Employee's Birthdate</div>
                        </th>
                        <th scope="col">
                          <div class="slds-truncate" title="Job Category">Job Category</div>
                        </th>
                        <th scope="col">
                          <div class="slds-truncate" title="Compensation Type">Compensation Type</div>
                        </th>
                        <th scope="col">
                          <div class="slds-truncate" title="Amount">Amount</div>
                        </th>
                        <th scope="col">
                          <div class="slds-truncate" title="Location">Location</div>
                        </th>
                        <th scope="col">
                          <div class="slds-truncate" title="Office">Office</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate" title="Submitted">Submitted</div>
                        </th>
                        <th scope="col">
                            <div class="slds-truncate" title="Status">Status</div>
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                        <aura:iteration items="{!v.compensations}" var="row">
                            <tr>
                                <td data-label="Employee Name"><a onclick="{!c.editRecord}" id="{!row.Employee__r.Id}">{!row.Employee__r.Name}</a></td>
                                <td data-label="Employee Birthdate"><lightning:formattedDateTime value="{!row.Employee__r.Birthdate}" year="numeric" day="2-digit" month="long" timeZone="UTC"/></td>
                                <td data-label="Job Category">{!row.Job_Category__c}</td>
                                <td data-label="Compensation Type">{!row.RecordType.Name}</td>
                                <td data-label="Amount">{!row.Amount__c}</td>
                                <td data-label="Location">{!row.Location__c}</td>
                                <td data-label="Office">{!row.Office__c}</td>
                                <td data-label="Submitted"><ui:outputCheckbox aura:id="output" value="{!row.Submitted__c}"/></td>
                                <td data-label="Status">{!row.Status__c}</td>
                            </tr>
                        </aura:iteration>
                    </tbody>
                  </table>
    </lightning:card>
</aura:component>